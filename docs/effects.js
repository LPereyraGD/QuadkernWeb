function t(){const t=document.querySelector("h1");t&&e(t),i(),n()}function e(t){const e=t.textContent||"";t.textContent="";let i=0;const n=setInterval(()=>{t.textContent+=e[i],i++,i<e.length||clearInterval(n)},100)}function i(){function t(){const t=window.pageYOffset,i=t/(document.documentElement.scrollHeight-window.innerHeight),n=document.querySelector("#inicio img");n&&(n.style.transform=`translateY(${.3*t}px) scale(${1+.1*i})`);const s=window.quadkernEffects;s&&s.setIntensity(.5+.8*i),e=!1}let e=!1;window.addEventListener("scroll",()=>{e||(requestAnimationFrame(t),e=!0)},{passive:!0})}function n(){document.querySelectorAll('[id="equipo"] .flex.flex-col.gap-3.text-center.pb-3').forEach((t,e)=>{t.addEventListener("mouseenter",()=>{const i=["#3498db","#9b59b6","#2ecc71","#e74c3c"];s(t,i[e%i.length])})})}function s(t,e){const i=t.getBoundingClientRect(),n=window.quadkernEffects;if(n)for(let t=0;15>t;t++)setTimeout(()=>{n.createParticle({x:i.left+i.width/2,y:i.top+i.height/2,color:e})},50*t)}class a{constructor(){this.particles=[],this.animationId=0,this.mouseX=0,this.mouseY=0,this.time=0,this.config={intensity:.8,speed:1,colors:["#3498db","#9b59b6","#2ecc71","#e74c3c"],enabled:!0},this.init()}init(){this.createCanvas(),this.setupEventListeners(),this.createParticleSystem(),this.startAnimation()}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.id="quadkern-effects",this.canvas.style.position="fixed",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none",this.canvas.style.opacity="0.6",document.body.insertBefore(this.canvas,document.body.firstChild),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas()}resizeCanvas(){const t=window.devicePixelRatio||1;this.canvas.width=window.innerWidth*t,this.canvas.height=window.innerHeight*t,this.ctx.scale(t,t),this.canvas.style.width=window.innerWidth+"px",this.canvas.style.height=window.innerHeight+"px"}setupEventListeners(){window.addEventListener("resize",()=>this.resizeCanvas()),document.addEventListener("visibilitychange",()=>{document.hidden?this.pause():this.resume()}),document.addEventListener("mousemove",t=>{this.mouseX=t.clientX,this.mouseY=t.clientY});const t=document.querySelector("#inicio img");t&&(t.addEventListener("mouseenter",()=>{this.config.intensity=1.5,this.config.speed=2,this.createBurstEffect()}),t.addEventListener("mouseleave",()=>{this.config.intensity=.8,this.config.speed=1})),["#servicios","#proyectos","#equipo","#contacto"].forEach(t=>{const e=document.querySelector(t);e&&new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&this.createSectionEffect(t)})},{threshold:.3}).observe(e)})}createParticleSystem(){const t=this.getOptimalParticleCount();for(let e=0;t>e;e++)this.createParticle()}getOptimalParticleCount(){const t=navigator.hardwareConcurrency||4,e=navigator.deviceMemory||4,i=/Mobi|Android/i.test(navigator.userAgent),n=4>e||4>t;return window.matchMedia("(prefers-reduced-motion: reduce)").matches?5:i||n?Math.min(15,2*t):8>e?4>e?20:30:50}createParticle(){const t={x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,vx:2*(Math.random()-.5),vy:2*(Math.random()-.5),size:4*Math.random()+1,color:this.config.colors[Math.floor(Math.random()*this.config.colors.length)],alpha:.5*Math.random()+.2,life:0,maxLife:300*Math.random()+200,rotation:Math.random()*Math.PI*2,rotationSpeed:.02*(Math.random()-.5)};this.particles.push(t)}createBurstEffect(){const t=window.innerWidth/2,e=window.innerHeight/2;for(let i=0;20>i;i++){const n=2*Math.PI*i/20,s=5*Math.random()+3,a={x:t,y:e,vx:Math.cos(n)*s,vy:Math.sin(n)*s,size:6*Math.random()+2,color:"#3498db",alpha:.8,life:0,maxLife:60,rotation:n,rotationSpeed:.1};this.particles.push(a)}}createSectionEffect(t){const e={"#servicios":"#3498db","#proyectos":"#9b59b6","#equipo":"#2ecc71","#contacto":"#e74c3c"};for(let i=0;10>i;i++){const i={x:Math.random()*window.innerWidth,y:window.innerHeight,vx:4*(Math.random()-.5),vy:3*-Math.random()-2,size:3*Math.random()+1,color:e[t]||"#3498db",alpha:.6,life:0,maxLife:100,rotation:0,rotationSpeed:.05*(Math.random()-.5)};this.particles.push(i)}}updateParticles(){const t=4>navigator.deviceMemory,e=/Mobi|Android/i.test(navigator.userAgent);for(let i=this.particles.length-1;i>=0;i--){const n=this.particles[i];if(n.x+=n.vx*this.config.speed,n.y+=n.vy*this.config.speed,n.rotation+=n.rotationSpeed,n.life++,!t&&!e){const t=this.mouseX-n.x,e=this.mouseY-n.y,i=Math.sqrt(t*t+e*e);if(100>i){const s=(100-i)/100;n.vx+=t/i*s*.1,n.vy+=e/i*s*.1}}n.alpha=Math.max(0,1-n.life/n.maxLife),(n.life>=n.maxLife||-50>n.x||n.x>window.innerWidth+50||-50>n.y||n.y>window.innerHeight+50)&&this.particles.splice(i,1)}const i=t||e?10:.6*this.getOptimalParticleCount();for(;this.particles.length<i;)this.createParticle()}drawParticles(){const t=4>navigator.deviceMemory,e=/Mobi|Android/i.test(navigator.userAgent),i=new Map;this.particles.forEach(t=>{const e=t.color;i.has(e)||i.set(e,[]),i.get(e).push(t)}),i.forEach((i,n)=>{this.ctx.save(),this.ctx.fillStyle=n,i.forEach(i=>{this.ctx.globalAlpha=i.alpha*this.config.intensity,t||e||(this.ctx.shadowColor=n,this.ctx.shadowBlur=2*i.size),t||e?(this.ctx.beginPath(),this.ctx.arc(i.x,i.y,i.size,0,2*Math.PI),this.ctx.fill()):(this.ctx.translate(i.x,i.y),this.ctx.rotate(i.rotation),2>i.size?this.ctx.fillRect(-i.size/2,-i.size/2,i.size,i.size):(this.ctx.beginPath(),this.ctx.arc(0,0,i.size,0,2*Math.PI),this.ctx.fill()),this.ctx.setTransform(1,0,0,1,0,0))}),this.ctx.restore()})}drawConnections(){this.ctx.strokeStyle="rgba(52, 152, 219, 0.1)",this.ctx.lineWidth=1;for(let t=0;t<this.particles.length;t++)for(let e=t+1;e<this.particles.length;e++){const i=this.particles[t],n=this.particles[e],s=i.x-n.x,a=i.y-n.y,o=Math.sqrt(s*s+a*a);150>o&&(this.ctx.globalAlpha=(150-o)/150*.3,this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(n.x,n.y),this.ctx.stroke())}}drawWaveShader(){const t=this.ctx.createLinearGradient(0,0,window.innerWidth,window.innerHeight),e=.5*this.time%360,i=(.3*this.time+120)%360,n=(.4*this.time+240)%360;t.addColorStop(0,`hsla(${e}, 70%, 60%, 0.05)`),t.addColorStop(.5,`hsla(${i}, 70%, 60%, 0.08)`),t.addColorStop(1,`hsla(${n}, 70%, 60%, 0.05)`),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight)}animate(){if(this.time++,this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.config.enabled){const t=this.time%2==0,e=this.time%3==0;t&&this.drawWaveShader(),e&&30>this.particles.length&&this.drawConnections(),this.updateParticles(),this.drawParticles()}navigator.deviceMemory,this.time,this.animationId=requestAnimationFrame(()=>this.animate())}startAnimation(){this.animate()}setIntensity(t){this.config.intensity=Math.max(0,Math.min(2,t))}setSpeed(t){this.config.speed=Math.max(.1,Math.min(3,t))}toggleEffects(){this.config.enabled=!this.config.enabled}pause(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=0)}resume(){this.animationId||this.startAnimation()}resize(){this.resizeCanvas()}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}document.addEventListener("DOMContentLoaded",()=>{const e=new a;window.quadkernEffects=e,t()});class o{static lerp(t,e,i){return t+(e-t)*i}static easeOutCubic(t){return 1-Math.pow(1-t,3)}static easeInOutQuad(t){return.5>t?2*t*t:(4-2*t)*t-1}static noise(t,e,i){return Math.sin(.01*t+.01*i)*Math.cos(.01*e+.01*i)}}export{a as QuadKernEffects,o as MathUtils};